<h2 mat-dialog-title>{{user.first_name}} {{user.last_name}}</h2>

<div class="dialog-container">
  <mat-dialog-content>
    <div><span class="">User type</span> <span>{{user.role | roleLabel}}</span></div>
    <div><span class="">Email</span> <span>{{user.email}}</span></div>
    <div><span class="">Phone</span> <span>{{user.phone || "Not added yet"}}</span></div>
   
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    
    <div *ngIf="user.role.name === 'ROLE_USER'">
        <ul *ngIf="!isLoading && userChildren.length > 0">
            <strong>Figli registrati:</strong> 
            <li *ngFor="let child of userChildren">
              <span>{{child.first_name}} {{child.last_name}}</span>
            </li>
          </ul>
          <p *ngIf="!isLoading && userChildren.length == 0"style="padding: 10px;">This user hasn't added any children yet.</p>
    </div>

    <div *ngIf="user.role.name !== 'ROLE_USER'">
      <strong>Linee amministrate:</strong>
      <ul *ngIf="!isLoading">
        <app-line-selector class="line-selector"
        [checkableLines]="myLines"
        [alreadySelectedLines]="userLines"
        (checkedLines)="onLinesChanged($event)"></app-line-selector>
      </ul>
  </div>

</mat-dialog-content>

<mat-dialog-actions>
    <button class="mat-raised-button"(click)="close()">Close</button>
    <button *ngIf="isUserEdited" class="mat-raised-button mat-primary"(click)="save()">Save</button>
</mat-dialog-actions>
</div>

